<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clicker Combat</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;800&display=swap" rel="stylesheet">

<style>
body{
 margin:0;
 background:radial-gradient(circle at top,#0b1a2f,#04070e);
 font-family:"Orbitron",sans-serif;
 color:#e6f1ff;
 overflow:hidden;
 cursor:none;
}

/* TOP HUD */
#top{
 padding:18px;
 text-align:center;
 background:linear-gradient(90deg,#071b2f,#02060c);
 box-shadow:0 0 30px #000;
}
#top div{
 font-size:36px;
 margin:8px 0;
 color:#35e3ff;
 font-weight:800;
}

/* LAYOUT */
#game{display:flex;height:calc(100vh - 160px);}
#left,#right{width:320px;background:#0d1626;padding:14px;overflow-y:auto;}
#center{flex:1;position:relative;}

/* LEFT */
#left{font-size:24px;text-align:center;}
#achievementsList div{
 margin-top:6px;
 font-weight:800;
}
.locked-achievement{color:grey;}
.unlocked-achievement{color:limegreen;}
/* TABS */
.tabs button{
 width:33.33%;
 padding:18px;
 font-size:18px;
 background:#0f2238;
 border:none;
 color:white;
 cursor:pointer;
}
.tabs button.active{
 background:#35e3ff;
 color:black;
 font-weight:800;
}

/* CONTENT */
#swordDiv,#skinDiv{
 max-height:calc(100vh - 260px);
 overflow-y:auto;
}

/* ITEMS */
.item{
 display:flex;
 gap:12px;
 background:#091728;
 margin-bottom:14px;
 padding:12px;
 border-left:8px solid;
}
.item img{
 width:72px;height:72px;object-fit:cover;
}
.item button{
 margin-top:6px;
 width:100%;
 padding:6px;
 font-family:inherit;
 cursor:pointer;
}
.locked{
 opacity:0.4;
 pointer-events:none;
}

/* RARITIES */
.common{border-color:#35e3ff;}
.rare{border-color:gold;}
.epic{border-color:purple;}
.mythic{border-color:red;}
.legendary{border-color:hotpink;}
.secret{
 border-color:transparent;
 background:
  linear-gradient(#091728,#091728) padding-box,
  linear-gradient(90deg,red,orange,yellow,green,cyan,blue,violet) border-box;
 border-left:8px solid transparent;
 animation:rainbow 2s linear infinite;
}
@keyframes rainbow{to{filter:hue-rotate(360deg);}}

/* CHARACTER */
#character{
 position:absolute;
 width:180px;
 cursor:pointer;
 transition: left 0.2s ease, top 0.2s ease;
}

/* FLOAT */
.float{
 position:absolute;
 font-size:36px;
 font-weight:800;
 pointer-events:none;
 animation:float 0.9s forwards;
 color: #35e3ff;
}
@keyframes float{
 to{transform:translateY(-60px);opacity:0;}
}

/* CURSOR */
#cursor{
 position:fixed;
 pointer-events:none;
 width:48px;height:48px;
 transform:translate(-50%,-50%);
}

/* ACHIEVEMENT POPUP */
#achievementPopup{
 position:fixed;
 bottom:40px;
 left:50%;
 transform:translateX(-50%) scale(0.8);
 background:linear-gradient(90deg,#35e3ff,#8af0ff);
 color:#000;
 padding:16px 28px;
 border-radius:12px;
 font-size:20px;
 font-weight:800;
 box-shadow:0 0 30px #35e3ff;
 opacity:0;
 pointer-events:none;
 transition:0.4s ease;
 z-index:999;
}
#achievementPopup.show{
 opacity:1;
 transform:translateX(-50%) scale(1);
}
</style>
</head>

<body>

<div id="top">
 <div>TOTAL DAMAGE: <span id="total">0</span></div>
 <div>DAMAGE / CLICK: <span id="dpc">1</span></div>
</div>

<div id="game">
 <div id="left">
  ACHIEVEMENTS:<div id="achievementsList"></div>
 </div>

 <div id="center">
  <img id="character" src="YIcheng_4.png">
 </div>

 <div id="right">
  <div class="tabs">
   <button onclick="tab('swordDiv',this)" class="active">SWORD</button>
   <button onclick="tab('skinDiv',this)">SKIN</button>
   <button onclick="save()">SAVE</button>
  </div>

  <div id="swordDiv"></div>
  <div id="skinDiv" style="display:none"></div>
 </div>
</div>

<img id="cursor" src="Wood.webp">
<div id="achievementPopup"></div>

<script>
/* DATA */
const swords=[
 {n:"Wooden Sword",d:1,p:0,r:"common",img:"Wood.webp"},
 {n:"Iron Sword",d:10,p:300,r:"rare",img:"Iron.webp"},
 {n:"Gold Sword",d:35,p:900,r:"epic",img:"Gold.png"},
 {n:"Diamond Sword",d:70,p:4000,r:"mythic",img:"Diamond.webp"},
 {n:"Amethyst Sword",d:150,p:10000,r:"legendary",img:"Amethyst.webp"},
 {n:"Tungsten Sword",d:400,p:40000,r:"legendary",img:"Tungsten.webp"},
 {n:"Yicheng Sword",d:999,p:100000,r:"secret",secret:true,img:"Yicheng_6.png"}
];

const skins=[
 {n:"Default",img:"YIcheng_4.png",p:0,d:1,r:"common"},
 {n:"Failure",img:"Yicheng_2.png",p:100,d:1,r:"common"},
 {n:"Forehead",img:"Wenyao_2.png",p:500,d:10,r:"common"},
 {n:"Grade 3 Pianist",img:"Wenyao.png",p:2500,d:50,r:"rare"},
 {n:"Entrepreneur",img:"Yicheng_3.png",p:10000,d:250,r:"mythic"},
 {n:"The Thinker",img:"Yicheng_5.png",p:50000,cps:999,r:"mythic"},
 {n:"Ascended to Heaven",img:"Yicheng_5.png",p:150000,cps:1500,r:"legendary"},
 {n:"Ben Lee",img:"Ben.png",p:500000,r:"secret",secret:true},
 {n:"Amare",img:"Amare.png",p:1000000,r:"secret",secret:true}
];

const achievements=[
 {n:"SAVAGE",c:()=>total>=10000},
 {n:"RELENTLESS",c:()=>total>=100000},
 {n:"MASACRE",c:()=>total>=1000000},
 {n:"THE STRONGEST",c:()=>total>=10000000},
 {n:"???",c:()=>total>=100000000,unlock:"THE END???"}
];

/* STATE */
let saveData=JSON.parse(localStorage.getItem("save"))||{};
let total=saveData.total||0;
let sword=swords[0],skin=skins[0];
let unlockedSwords=saveData.us||["Wooden Sword"];
let unlockedSkins=saveData.uk||["Default"];
let unlockedTitles=saveData.ut||[];

/* ELEMENTS */
const totalEl=document.getElementById("total");
const dpcEl=document.getElementById("dpc");
const swordDiv=document.getElementById("swordDiv");
const skinDiv=document.getElementById("skinDiv");
const character=document.getElementById("character");
const achievementsList=document.getElementById("achievementsList");

/* CLICK */
character.onclick=e=>{
 let dmg=Math.floor(sword.d+(skin.d||0));
 total+=dmg;
 float(e.clientX,e.clientY,"+"+dmg);
 move(); update(); checkAchievements();
};

function move(){
 character.style.left=Math.random()*75+"%";
 character.style.top=Math.random()*65+"%";
}

function float(x,y,t){
 if(document.querySelectorAll(".float").length>20) return;
 let d=document.createElement("div");
 d.className="float";
 d.style.left=x+"px"; d.style.top=y+"px";
 d.textContent=t;
 document.body.appendChild(d);
 setTimeout(()=>d.remove(),900);
}

/* ACHIEVEMENTS */
function achievementPopup(name){
 let p=document.getElementById("achievementPopup");
 p.textContent="ðŸ† ACHIEVEMENT UNLOCKED: "+name;
 p.classList.add("show");
 setTimeout(()=>p.classList.remove("show"),2500);

 // Set achievement color in list to green
 document.querySelector(`#achievementsList div[data-name="${name}"]`).classList.remove("locked-achievement");
 document.querySelector(`#achievementsList div[data-name="${name}"]`).classList.add("unlocked-achievement");
}

function checkAchievements(){
 achievements.forEach(a=>{
  if(!document.querySelector(`#achievementsList div[data-name="${a.n}"]`)){
    const div=document.createElement("div");
    div.textContent=a.n;
    div.dataset.name=a.n;
    div.className = unlockedTitles.includes(a.n) ? "unlocked-achievement" : "locked-achievement";
    achievementsList.appendChild(div);
  }
  if(a.c() && !unlockedTitles.includes(a.n)){
    unlockedTitles.push(a.n);
    achievementPopup(a.n);
    if(a.unlock){
      unlockedTitles.push(a.unlock);
      achievementPopup(a.unlock);
    }
  }
 });
}

/* BUILD SHOP */
function build(){
 swordDiv.innerHTML="";
 swords.forEach(sw=>{
  let owned=unlockedSwords.includes(sw.n);
  swordDiv.innerHTML+=`
  <div class="item ${sw.r}">
   <img src="${sw.img}" style="${sw.secret&&!owned?'filter:brightness(0);':''}">
   <div>
    <b>${sw.secret&&!owned?"???":sw.n}</b><br>
    DMG: ${sw.secret&&!owned?"???":sw.d}<br>
    Cost: ${sw.p} DAMAGE
    <button ${!owned&&total<sw.p?'class="locked"':''}
     onclick="buySword('${sw.n}')">${owned?"Equip":"Buy"}</button>
   </div>
  </div>`;
 });

 skinDiv.innerHTML="";
 skins.forEach(sk=>{
  let owned=unlockedSkins.includes(sk.n);
  skinDiv.innerHTML+=`
  <div class="item ${sk.r}">
   <img src="${sk.img}" style="${sk.secret&&!owned?'filter:brightness(0);':''}">
   <div>
    <b>${sk.secret&&!owned?"???":sk.n}</b><br>
    DMG/CPS: ${sk.secret&&!owned?"???":(sk.cps||sk.d)}<br>
    Cost: ${sk.p} DAMAGE
    <button ${!owned&&total<sk.p?'class="locked"':''}
     onclick="buySkin('${sk.n}')">${owned?"Equip":"Buy"}</button>
   </div>
  </div>`;
 });
}

/* BUY ITEMS */
function buySword(n){
 let sw=swords.find(x=>x.n===n);
 if(unlockedSwords.includes(n)){sword=sw;cursor.src=sw.img;return;}
 if(total>=sw.p){unlockedSwords.push(n);sword=sw;cursor.src=sw.img;build();}
}

function buySkin(n){
 let sk=skins.find(x=>x.n===n);
 if(unlockedSkins.includes(n)){skin=sk;character.src=sk.img;return;}
 if(total>=sk.p){unlockedSkins.push(n);skin=sk;character.src=sk.img;build();}
}

/* TABS */
function tab(id,b){
 swordDiv.style.display="none";
 skinDiv.style.display="none";
 document.getElementById(id).style.display="block";
 document.querySelectorAll(".tabs button").forEach(x=>x.classList.remove("active"));
 b.classList.add("active");
}

/* UPDATE HUD */
function update(){
 totalEl.textContent=total;
 dpcEl.textContent=sword.d+(skin.d||0);
}

/* SAVE */
function save(){
 localStorage.setItem("save",JSON.stringify({
  total,us:unlockedSwords,uk:unlockedSkins,ut:unlockedTitles
 }));
 alert("Saved!");
}

/* CUSTOM CURSOR */
const cursor=document.getElementById("cursor");
document.addEventListener("mousemove",e=>{
 cursor.style.left=e.clientX+"px";
 cursor.style.top=e.clientY+"px";
});

/* INITIALIZE */
build(); update(); checkAchievements();
</script>

</body>
</html>

