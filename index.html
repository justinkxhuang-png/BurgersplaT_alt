<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clicker Combat</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #0b1a2f, #04070e);
  font-family: "Orbitron", sans-serif;
  color: #e6f1ff;
  overflow: hidden;
  cursor: none;
}

/* ---------- TOP ---------- */
#top {
  padding: 12px;
  background: linear-gradient(90deg, #071b2f, #02060c);
  text-align: center;
  box-shadow: 0 0 25px #000;
}

#top div {
  font-size: 18px;
  margin: 4px 0;
  color: #35e3ff;
}

/* ---------- LAYOUT ---------- */
#game {
  display: flex;
  height: calc(100vh - 100px);
}

#left, #right {
  width: 320px;
  background: #0d1626;
  padding: 12px;
  overflow-y: auto;
}

#center {
  flex: 1;
  position: relative;
}

/* ---------- TABS ---------- */
.tabs button {
  width: 25%;
  padding: 14px;
  font-size: 14px;
  background: #0f2238;
  border: none;
  color: white;
  cursor: pointer;
}
.tabs button.active {
  background: #35e3ff;
  color: black;
  font-weight: bold;
}

/* ---------- ITEMS ---------- */
.item {
  display: flex;
  gap: 10px;
  background: #091728;
  margin-bottom: 12px;
  padding: 10px;
  border-left: 6px solid;
}

.item img {
  width: 64px;
  height: 64px;
  object-fit: cover;
}

.item button {
  margin-top: 6px;
  width: 100%;
  padding: 6px;
  cursor: pointer;
  font-family: inherit;
}

/* ---------- RARITIES ---------- */
.common { border-color:#35e3ff; }
.rare { border-color:gold; }
.epic { border-color:purple; }
.mythic { border-color:red; }
.legendary { border-color:gold; }

.secret {
  border-color: transparent;
  background:
    linear-gradient(#091728,#091728) padding-box,
    linear-gradient(90deg,red,orange,yellow,green,cyan,blue,violet) border-box;
  border-left: 6px solid transparent;
  animation: rainbow 2s linear infinite;
}

@keyframes rainbow {
  to { filter: hue-rotate(360deg); }
}

/* ---------- CHARACTER ---------- */
#character {
  position: absolute;
  width: 170px;
  cursor: pointer;
}

/* ---------- FLOATING TEXT ---------- */
.float {
  position: absolute;
  font-size: 28px;
  font-weight: bold;
  pointer-events: none;
  animation: float 0.9s forwards;
}

@keyframes float {
  to { transform: translateY(-50px); opacity: 0; }
}

/* ---------- CURSOR ---------- */
#cursor {
  position: fixed;
  pointer-events: none;
  font-size: 30px;
  transform: translate(-50%, -50%);
}
</style>
</head>

<body>

<div id="top">
  <div>Total Damage: <span id="total">0</span></div>
  <div>Damage / Click: <span id="dpc">1</span></div>
  <div>Combo: <span id="combo">x1.00</span></div>
</div>

<div id="game">

  <div id="left">
    Coins: <b id="coins">0</b>
    <progress id="comboBar" max="100" value="0"></progress>
  </div>

  <div id="center">
    <img id="character" src="Yicheng_4.png">
  </div>

  <div id="right">
    <div class="tabs">
      <button class="active" onclick="showTab('shop')">SHOP</button>
      <button onclick="showTab('characters')">CHARACTERS</button>
      <button onclick="showTab('stats')">STATS</button>
      <button onclick="saveGame()">SAVE</button>
    </div>

    <div id="shop"></div>
    <div id="characters" style="display:none"></div>
    <div id="stats" style="display:none"></div>
  </div>

</div>

<div id="cursor">ðŸªµ</div>

<script>
/* ---------- DATA ---------- */
const swords=[
 {name:"Wooden Sword",dmg:1,price:0,icon:"ðŸªµ",rarity:"common"},
 {name:"Iron Sword",dmg:10,price:300,icon:"âš”ï¸",rarity:"rare"},
 {name:"Gold Sword",dmg:35,price:900,icon:"ðŸŸ¡",rarity:"epic"},
 {name:"Diamond Sword",dmg:70,price:4000,icon:"ðŸ’Ž",rarity:"mythic"},
 {name:"Amethyst Sword",dmg:150,price:10000,icon:"ðŸ”®",rarity:"legendary"},
 {name:"Tungsten Sword",dmg:400,price:40000,icon:"ðŸ”©",rarity:"legendary"},
 {name:"???",dmg:999,price:100000,icon:"â“",rarity:"secret",secret:true}
];

const characters=[
 {name:"Default",img:"Yicheng_4.png",cost:0,rarity:"common"},
 {name:"Failure",img:"Yicheng_2.png",cost:0,rarity:"rare"},
 {name:"The Thinker",img:"Yicheng_5.png",cost:50000,rarity:"mythic"},
 {name:"Ascended to Heaven",img:"Yicheng_5.png",cost:150000,rarity:"legendary"},
 {name:"???",img:"Ben.png",cost:500000,rarity:"secret",secret:true},
 {name:"???",img:"Amare.png",cost:1000000,rarity:"secret",secret:true}
];

/* ---------- STATE ---------- */
let coins=0,totalDamage=0,combo=0,comboTimer=0;
let sword=swords[0];
let character=characters[0];

const charEl=document.getElementById("character");

/* ---------- CLICK ---------- */
charEl.onclick=e=>{
 combo++;
 comboTimer=100;
 let mult=1+combo/100;
 let dmg=Math.floor(sword.dmg*mult);
 coins+=dmg;
 totalDamage+=dmg;
 spawn(e.clientX,e.clientY,"+"+dmg);
 spawn(e.clientX+20,e.clientY-10,"x"+mult.toFixed(2));
 moveChar();
 updateUI();
};

function spawn(x,y,t){
 let d=document.createElement("div");
 d.className="float";
 d.style.left=x+"px";
 d.style.top=y+"px";
 d.textContent=t;
 document.body.appendChild(d);
 setTimeout(()=>d.remove(),900);
}

function moveChar(){
 charEl.style.left=Math.random()*75+"%";
 charEl.style.top=Math.random()*65+"%";
}

/* ---------- LOOP ---------- */
setInterval(()=>{
 comboTimer--;
 if(comboTimer<=0) combo=0;
 document.getElementById("combo").textContent="x"+(1+combo/100).toFixed(2);
 document.getElementById("comboBar").value=comboTimer;
},50);

/* ---------- BUILD UI ---------- */
function buildShop(){
 let s=document.getElementById("shop");
 s.innerHTML="";
 swords.forEach(sw=>{
  let d=document.createElement("div");
  d.className="item "+sw.rarity;
  d.innerHTML=`
   <div>
    <b>${sw.secret?"???":sw.name}</b><br>
    DMG: ${sw.secret?"???":sw.dmg}<br>
    Cost: ${sw.price}
    <button>Equip</button>
   </div>`;
  d.onclick=()=>{
   if(coins>=sw.price){
    sword=sw;
    document.getElementById("cursor").textContent=sw.icon;
   }
  };
  s.appendChild(d);
 });
}

function buildCharacters(){
 let c=document.getElementById("characters");
 c.innerHTML="";
 characters.forEach(ch=>{
  let d=document.createElement("div");
  d.className="item "+ch.rarity;
  d.innerHTML=`
   <img src="${ch.img}" style="${ch.secret?'filter:brightness(0);':''}">
   <div>
    <b>${ch.secret?"???":ch.name}</b><br>
    Cost: ${ch.cost}
    <button>Equip</button>
   </div>`;
  d.onclick=()=>{
   if(coins>=ch.cost){
    character=ch;
    charEl.src=ch.img;
   }
  };
  c.appendChild(d);
 });
}

function buildStats(){
 document.getElementById("stats").innerHTML=`
  <p>Total Damage: ${totalDamage}</p>
  <p>Coins: ${coins}</p>
  <p>Damage / Click: ${sword.dmg}</p>
  <p>Sword: ${sword.secret?"???":sword.name}</p>
  <p>Character: ${character.secret?"???":character.name}</p>`;
}

function showTab(t){
 ["shop","characters","stats"].forEach(x=>{
  document.getElementById(x).style.display=(x===t)?"block":"none";
 });
 buildStats();
}

/* ---------- SAVE ---------- */
function saveGame(){
 localStorage.setItem("save",JSON.stringify({coins,totalDamage}));
 alert("Saved!");
}

/* ---------- CURSOR ---------- */
document.addEventListener("mousemove",e=>{
 let c=document.getElementById("cursor");
 c.style.left=e.clientX+"px";
 c.style.top=e.clientY+"px";
});

/* INIT */
buildShop();
buildCharacters();
moveChar();
updateUI();
function updateUI(){
 document.getElementById("coins").textContent=coins;
 document.getElementById("total").textContent=totalDamage;
 document.getElementById("dpc").textContent=sword.dmg;
}
</script>

</body>
</html>

