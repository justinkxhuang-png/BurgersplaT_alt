<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clicker Combat</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;800&display=swap" rel="stylesheet">

<style>
body{
margin:0;
background:radial-gradient(circle at top,#0b1a2f,#04070e);
font-family:"Orbitron",sans-serif;
color:#e6f1ff;
overflow:hidden;
cursor:none;
}

/* TOP HUD */
#top{
display:flex;
justify-content:space-between;
align-items:center;
padding:8px 16px;
background:linear-gradient(90deg,#071b2f,#02060c);
box-shadow:0 0 30px #000;
font-size:20px;
flex-wrap:wrap;
}
.topItem{display:flex;align-items:center;gap:6px;color:#35e3ff;font-weight:800;}

#comboBarContainer{
width:100px;height:12px;
background:#0f2238;border-radius:12px;
overflow:hidden;display:none;
}
#comboBar{height:100%;background:limegreen;width:0%;}

/* BOSS BAR */
#bossBarContainer{
position:absolute;
top:20px;
width:60%;
height:18px;
background:#0f2238;
border-radius:12px;
overflow:hidden;
box-shadow:0 0 20px black;
}
#bossBar{
height:100%;
background:crimson;
width:100%;
transition:width 0.1s linear;
}
#bossText{
text-align:center;
font-size:14px;
margin-top:4px;
}

/* LAYOUT */
#game{display:flex;height:100vh;}
#left,#right{
width:320px;
background:#0d1626;
padding:14px;
overflow-y:auto;
}
#center{
flex:1;
position:relative;
display:flex;
justify-content:center;
align-items:center;
flex-direction:column;
}

/* ACHIEVEMENTS */
#achievementsHeader{
font-size:24px;font-weight:800;color:#35e3ff;
}
#achievementsList div{
margin-top:12px;
font-weight:800;
cursor:pointer;
}
.achievement-desc{font-size:16px;color:#35e3ff;}
.locked-achievement{color:grey;}
.unlocked-achievement{color:limegreen;}

/* TABS */
.tabs button{
width:33.33%;
padding:14px;
background:#0f2238;
border:none;color:white;
cursor:pointer;
}
.tabs button.active{
background:#35e3ff;
color:black;
font-weight:800;
}

/* ITEMS */
.item{
display:flex;gap:12px;
background:#091728;
margin-bottom:12px;
padding:12px;
border-left:8px solid;
}
.item img{width:72px;height:72px;}
.item button{width:100%;margin-top:6px;}
.buyable{background:white;color:black;cursor:pointer;}

/* RARITIES */
.common{border-color:#35e3ff;}
.rare{border-color:gold;}
.epic{border-color:purple;}
.mythic{border-color:red;}
.legendary{border-color:hotpink;}
.secret{
border-color:transparent;
background:
linear-gradient(#091728,#091728) padding-box,
linear-gradient(90deg,red,orange,yellow,green,cyan,blue,violet) border-box;
border-left:8px solid transparent;
animation:rainbow 2s linear infinite;
}
@keyframes rainbow{to{filter:hue-rotate(360deg);}}

/* CHARACTER */
#character{
width:180px;
cursor:pointer;
transition:0.2s;
}

/* FLOAT */
.float{
position:absolute;
font-size:28px;
font-weight:800;
pointer-events:none;
animation:float 0.9s forwards;
color:#35e3ff;
}
@keyframes float{to{transform:translateY(-60px);opacity:0;}}

/* CURSOR */
#cursor{
position:fixed;
pointer-events:none;
width:48px;height:48px;
transform:translate(-50%,-50%);
}

/* POPUP */
#achievementPopup{
position:fixed;
bottom:40px;
left:50%;
transform:translateX(-50%) scale(0.8);
background:linear-gradient(90deg,#35e3ff,#8af0ff);
color:black;
padding:16px 28px;
border-radius:12px;
font-size:20px;
font-weight:800;
opacity:0;
transition:0.4s;
z-index:999;
}
#achievementPopup.show{
opacity:1;
transform:translateX(-50%) scale(1);
}
</style>
</head>

<body>

<div id="top">
<div class="topItem">Title: <span id="achievementTitle">No Title</span></div>
<div class="topItem">TOTAL DAMAGE: <span id="total">0</span></div>
<div class="topItem">DAMAGE/CLICK: <span id="dpc">1</span></div>
<div class="topItem">COMBO: <span id="combo">x1</span>
<div id="comboBarContainer"><div id="comboBar"></div></div>
</div>
</div>

<div id="game">
<div id="left">
<div id="achievementsHeader">ACHIEVEMENTS</div>
<div id="achievementsList"></div>
</div>

<div id="center">
<div id="bossBarContainer">
<div id="bossBar"></div>
</div>
<div id="bossText"></div>

<img id="character" src="YIcheng_4.png">
</div>

<div id="right">
<div class="tabs">
<button onclick="tab('swordDiv',this)" class="active">SWORD</button>
<button onclick="tab('skinDiv',this)">SKIN</button>
<button onclick="save()">SAVE</button>
</div>
<div id="swordDiv"></div>
<div id="skinDiv" style="display:none"></div>
</div>
</div>

<img id="cursor" src="Wood.webp">
<div id="achievementPopup"></div>

<script>
/* ===== CONFIG ===== */
const PRICE_MULTIPLIER = 2;

/* ===== DATA ===== */
const swords=[
{n:"Wooden Sword",d:1,p:0,r:"common",img:"Wood.webp"},
{n:"Iron Sword",d:10,p:300,r:"rare",img:"Iron.webp"},
{n:"Gold Sword",d:35,p:900,r:"epic",img:"Gold.png"},
{n:"Diamond Sword",d:70,p:4000,r:"mythic",img:"Diamond.webp"},
{n:"Amethyst Sword",d:150,p:10000,r:"legendary",img:"Amethyst.webp"},
{n:"Tungsten Sword",d:400,p:40000,r:"legendary",img:"Tungsten.webp"},
{n:"Yicheng Sword",d:999,p:100000,r:"secret",secret:true,img:"Yicheng_6.png"}
];

const skins=[
{n:"Default",img:"YIcheng_4.png",p:0,d:1,r:"common"},
{n:"Failure",img:"Yicheng_2.png",p:100,d:5,r:"common"},
{n:"Forehead",img:"Wenyao_2.png",p:500,d:10,r:"common"},
{n:"Grade 3 Pianist",img:"Wenyao.png",p:2500,d:50,r:"rare"},
{n:"Entrepreneur",img:"Yicheng_3.png",p:10000,d:250,r:"mythic"},
{n:"The Thinker",img:"Yicheng_5.png",p:50000,cps:999,r:"mythic"},
{n:"Ascended to Heaven",img:"Yicheng.png",p:150000,cps:1500,r:"legendary"}
];

const achievements=[
{n:"SAVAGE",desc:"Reach 10,000 total damage",c:()=>total>=10000},
{n:"RELENTLESS",desc:"Reach 100,000 total damage",c:()=>total>=100000},
{n:"COMBOMASTER",desc:"Reach combo x100",c:()=>combo>=100},
{n:"BOSS SLAYER",desc:"Defeat 10 bosses",c:()=>bossKills>=10},
{n:"IMMORTAL",desc:"Defeat 100 bosses",c:()=>bossKills>=100}
];

/* ===== SAVE ===== */
let saveData=JSON.parse(localStorage.getItem("save"))||{};
let total=saveData.total||0;
let unlockedSwords=saveData.us||["Wooden Sword"];
let unlockedSkins=saveData.uk||["Default"];
let unlockedTitles=saveData.ut||[];
let bossKills=saveData.bk||0;

/* ===== STATE ===== */
let sword=swords[0],skin=skins[0];
let combo=0,comboTimer=0;

/* ===== BOSS ===== */
let boss={
maxHp:5000,
hp:5000,
reward:5000
};

/* ===== ELEMENTS ===== */
const totalEl=document.getElementById("total");
const dpcEl=document.getElementById("dpc");
const comboEl=document.getElementById("combo");
const comboBar=document.getElementById("comboBar");
const comboBarContainer=document.getElementById("comboBarContainer");
const bossBar=document.getElementById("bossBar");
const bossText=document.getElementById("bossText");
const character=document.getElementById("character");
const swordDiv=document.getElementById("swordDiv");
const skinDiv=document.getElementById("skinDiv");
const achievementsList=document.getElementById("achievementsList");
const achievementTitleEl=document.getElementById("achievementTitle");

/* ===== CLICK ===== */
character.onclick=e=>{
let dmg=sword.d+(skin.d||0);
combo++; comboTimer=60;

boss.hp-=dmg;
float(e.clientX,e.clientY,"-"+dmg);

if(boss.hp<=0){
total+=boss.reward;
bossKills++;
boss.maxHp=Math.floor(boss.maxHp*1.35);
boss.reward=Math.floor(boss.reward*1.3);
boss.hp=boss.maxHp;
}

update();
checkAchievements();
};

/* ===== CPS ===== */
setInterval(()=>{
if(skin.cps){
boss.hp-=skin.cps;
if(boss.hp<=0){
total+=boss.reward;
bossKills++;
boss.maxHp=Math.floor(boss.maxHp*1.35);
boss.reward=Math.floor(boss.reward*1.3);
boss.hp=boss.maxHp;
}
update();
}
},1000);

/* ===== COMBO ===== */
setInterval(()=>{
if(comboTimer>0){
comboTimer--;
comboEl.textContent="x"+combo;
comboBarContainer.style.display="block";
comboBar.style.width=(comboTimer/60)*100+"%";
}else{
combo=0;
comboEl.textContent="x1";
comboBarContainer.style.display="none";
}
},50);

/* ===== FUNCTIONS ===== */
function float(x,y,t){
let d=document.createElement("div");
d.className="float";
d.style.left=x+"px";
d.style.top=y+"px";
d.textContent=t;
document.body.appendChild(d);
setTimeout(()=>d.remove(),900);
}

function achievementPopup(name){
let p=document.getElementById("achievementPopup");
p.textContent="ðŸ† ACHIEVEMENT UNLOCKED: "+name;
p.classList.add("show");
setTimeout(()=>p.classList.remove("show"),2500);
achievementTitleEl.textContent=name;
}

function checkAchievements(){
achievements.forEach(a=>{
if(!unlockedTitles.includes(a.n)&&a.c()){
unlockedTitles.push(a.n);
achievementPopup(a.n);
}
});
renderAchievements();
}

function renderAchievements(){
achievementsList.innerHTML="";
achievements.forEach(a=>{
let div=document.createElement("div");
div.textContent=a.n;
div.className=unlockedTitles.includes(a.n)?"unlocked-achievement":"locked-achievement";
div.onclick=()=>{
let d=div.nextElementSibling;
if(d&&d.classList.contains("achievement-desc")) d.remove();
else{
let desc=document.createElement("div");
desc.className="achievement-desc";
desc.textContent=a.desc;
div.after(desc);
}
};
achievementsList.appendChild(div);
});
}

function build(){
swordDiv.innerHTML="";
swords.forEach(sw=>{
let owned=unlockedSwords.includes(sw.n);
swordDiv.innerHTML+=`
<div class="item ${sw.r}">
<img src="${sw.img}">
<div><b>${sw.n}</b><br>DMG: ${sw.d}<br>Cost: ${sw.p*PRICE_MULTIPLIER}
<button class="${(!owned&&total>=sw.p*PRICE_MULTIPLIER?'buyable':'')}" onclick="buySword('${sw.n}')">${owned?"Equip":"Buy"}</button>
</div></div>`;
});

skinDiv.innerHTML="";
skins.forEach(sk=>{
let owned=unlockedSkins.includes(sk.n);
skinDiv.innerHTML+=`
<div class="item ${sk.r}">
<img src="${sk.img}">
<div><b>${sk.n}</b><br>${sk.cps?`CPS: ${sk.cps}`:`DMG: ${sk.d}`}<br>Cost: ${sk.p*PRICE_MULTIPLIER}
<button class="${(!owned&&total>=sk.p*PRICE_MULTIPLIER?'buyable':'')}" onclick="buySkin('${sk.n}')">${owned?"Equip":"Buy"}</button>
</div></div>`;
});
}

function buySword(n){
let sw=swords.find(x=>x.n===n);
if(unlockedSwords.includes(n)){sword=sw;return;}
let cost=sw.p*PRICE_MULTIPLIER;
if(total>=cost){total-=cost;unlockedSwords.push(n);sword=sw;update();}
}

function buySkin(n){
let sk=skins.find(x=>x.n===n);
if(unlockedSkins.includes(n)){skin=sk;character.src=sk.img;return;}
let cost=sk.p*PRICE_MULTIPLIER;
if(total>=cost){total-=cost;unlockedSkins.push(n);skin=sk;character.src=sk.img;update();}
}

function tab(id,b){
swordDiv.style.display="none";
skinDiv.style.display="none";
document.getElementById(id).style.display="block";
document.querySelectorAll(".tabs button").forEach(x=>x.classList.remove("active"));
b.classList.add("active");
}

function update(){
totalEl.textContent=total;
dpcEl.textContent=sword.d+(skin.d||0);
bossBar.style.width=(boss.hp/boss.maxHp)*100+"%";
bossText.textContent=`Boss HP: ${boss.hp} / ${boss.maxHp}`;
build();
}

function save(){
localStorage.setItem("save",JSON.stringify({
total,us:unlockedSwords,uk:unlockedSkins,ut:unlockedTitles,bk:bossKills
}));
alert("Saved!");
}

/* CURSOR */
const cursor=document.getElementById("cursor");
document.addEventListener("mousemove",e=>{
cursor.style.left=e.clientX+"px";
cursor.style.top=e.clientY+"px";
});

renderAchievements();
build();
update();
</script>

</body>
</html>
