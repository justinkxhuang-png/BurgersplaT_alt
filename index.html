<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Clicker Combat</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;800&display=swap" rel="stylesheet">

<style>
body{
 margin:0;
 background:radial-gradient(circle at top,#0b1a2f,#04070e);
 font-family:"Orbitron",sans-serif;
 color:#e6f1ff;
 overflow:hidden;
 cursor:none;
}

/* TOP BAR */
#top{
 display:flex;
 justify-content:space-between;
 align-items:center;
 padding:8px 16px;
 background:#071b2f;
 font-size:18px;
}
.topItem{font-weight:800;color:#35e3ff}

/* LAYOUT */
#game{display:flex;height:100vh;}
#left,#right{
 width:320px;
 background:#0d1626;
 padding:14px;
 overflow-y:auto;
}
#center{flex:1;display:flex;justify-content:center;align-items:center}

/* ACHIEVEMENTS */
#achievementsHeader{font-size:22px;margin-bottom:10px}
.ach{font-size:18px;cursor:pointer;margin-top:10px}
.locked{color:grey}
.unlocked{color:lime}
.desc{font-size:14px;margin-top:4px;color:#35e3ff}

/* TABS */
.tabs button{
 width:33.33%;
 padding:12px;
 background:#0f2238;
 border:none;
 color:white;
 cursor:pointer;
}
.tabs button.active{background:#35e3ff;color:black}

/* SHOP */
.shop{margin-top:10px}
.item{
 display:flex;
 gap:10px;
 background:#091728;
 padding:10px;
 margin-bottom:10px;
 border-left:6px solid;
}
.item img{width:64px;height:64px}
.item button{margin-top:6px;width:100%}
.buyable{background:white;color:black}

/* RARITIES */
.common{border-color:#35e3ff}
.rare{border-color:gold}
.epic{border-color:purple}
.mythic{border-color:red}
.legendary{border-color:hotpink}
.secret{border-color:cyan}

/* CHARACTER */
#character{width:180px;cursor:pointer}

/* FLOAT */
.float{
 position:absolute;
 font-size:26px;
 font-weight:800;
 animation:float .9s forwards;
}
@keyframes float{to{transform:translateY(-60px);opacity:0}}

/* CURSOR */
#cursor{
 position:fixed;
 width:48px;
 pointer-events:none;
 transform:translate(-50%,-50%);
}
</style>
</head>

<body>

<div id="top">
 <div class="topItem">Title: <span id="title">No Title</span></div>
 <div class="topItem">TOTAL DAMAGE: <span id="total">0</span></div>
 <div class="topItem">COMBO: x<span id="combo">1</span></div>
</div>

<div id="game">
 <div id="left">
  <div id="achievementsHeader">ACHIEVEMENTS</div>
  <div id="achievements"></div>
 </div>

 <div id="center">
  <img id="character" src="YIcheng_4.png">
 </div>

 <div id="right">
  <div class="tabs">
   <button class="active" onclick="tab('swords',this)">SWORDS</button>
   <button onclick="tab('skins',this)">SKINS</button>
   <button onclick="save()">SAVE</button>
  </div>
  <div id="swords" class="shop"></div>
  <div id="skins" class="shop" style="display:none"></div>
 </div>
</div>

<img id="cursor" src="Wood.webp">

<script>
/* DATA */
const swords=[
 {n:"Wooden Sword",d:1,p:0,r:"common",img:"Wood.webp"},
 {n:"Iron Sword",d:10,p:1500,r:"rare",img:"Iron.webp"},
 {n:"Gold Sword",d:35,p:4500,r:"epic",img:"Gold.png"},
 {n:"Diamond Sword",d:70,p:20000,r:"mythic",img:"Diamond.webp"},
 {n:"Amethyst Sword",d:150,p:50000,r:"legendary",img:"Amethyst.webp"},
 {n:"Tungsten Sword",d:400,p:200000,r:"legendary",img:"Tungsten.webp"},
 {n:"Yicheng Sword",d:999,p:500000,r:"secret",img:"Yicheng_6.png"}
];

const skins=[
 {n:"Default",img:"YIcheng_4.png",d:1,p:0,r:"common"},
 {n:"Failure",img:"Yicheng_2.png",d:5,p:500,r:"common"},
 {n:"Forehead",img:"Wenyao_2.png",d:10,p:2500,r:"common"},
 {n:"Grade 3 Pianist",img:"Wenyao.png",d:50,p:12500,r:"rare"},
 {n:"Entrepreneur",img:"Yicheng_3.png",d:250,p:50000,r:"mythic"},
 {n:"Ascended to Heaven",img:"Yicheng.png",d:1500,p:750000,r:"legendary"}
];

const achievements=[
 {n:"SAVAGE",d:"Reach 10,000 damage",c:()=>total>=10000},
 {n:"RELENTLESS",d:"Reach 100,000 damage",c:()=>total>=100000},
 {n:"THE STRONGEST",d:"Reach 10,000,000 damage",c:()=>total>=10000000}
];

/* STATE */
let save=JSON.parse(localStorage.getItem("save"))||{};
let total=save.total||0;
let sword=swords[0];
let skin=skins[0];
let ownedSwords=save.os||["Wooden Sword"];
let ownedSkins=save.ok||["Default"];
let titles=save.t||[];
let combo=0,comboTimer=0;

/* ELEMENTS */
const totalEl=totalSpan=document.getElementById("total");
const comboEl=document.getElementById("combo");
const titleEl=document.getElementById("title");
const achDiv=document.getElementById("achievements");

/* CLICK */
character.onclick=e=>{
 combo++; comboTimer=60;
 let dmg=(sword.d + skin.d) * combo;
 total+=dmg;
 float(e.clientX,e.clientY,"+"+dmg);
 move();
 update();
 checkAchievements();
};

/* COMBO */
setInterval(()=>{
 if(comboTimer>0){comboTimer--;comboEl.textContent=combo}
 else{combo=1;comboEl.textContent=1}
},50);

/* FUNCTIONS */
function move(){
 character.style.left=Math.random()*70+"%";
 character.style.top=Math.random()*60+"%";
}

function float(x,y,t){
 let f=document.createElement("div");
 f.className="float";
 f.style.left=x+"px";
 f.style.top=y+"px";
 f.textContent=t;
 document.body.appendChild(f);
 setTimeout(()=>f.remove(),900);
}

function build(){
 swordsDiv.innerHTML="";
 swords.forEach(s=>{
  let owned=ownedSwords.includes(s.n);
  swordsDiv.innerHTML+=`
  <div class="item ${s.r}">
   <img src="${s.img}">
   <div>
    <b>${s.n}</b><br>
    DMG: ${s.d}<br>
    Cost: ${s.p}
    <button class="${(!owned&&total>=s.p?'buyable':'')}"
     onclick="buySword('${s.n}')">${owned?"Equip":"Buy"}</button>
   </div>
  </div>`;
 });

 skinsDiv.innerHTML="";
 skins.forEach(s=>{
  let owned=ownedSkins.includes(s.n);
  skinsDiv.innerHTML+=`
  <div class="item ${s.r}">
   <img src="${s.img}">
   <div>
    <b>${s.n}</b><br>
    DMG: ${s.d}<br>
    Cost: ${s.p}
    <button class="${(!owned&&total>=s.p?'buyable':'')}"
     onclick="buySkin('${s.n}')">${owned?"Equip":"Buy"}</button>
   </div>
  </div>`;
 });
}

function buySword(n){
 let s=swords.find(x=>x.n===n);
 if(ownedSwords.includes(n)){sword=s;cursor.src=s.img;return;}
 if(total>=s.p){total-=s.p;ownedSwords.push(n);sword=s;cursor.src=s.img;update();}
}

function buySkin(n){
 let s=skins.find(x=>x.n===n);
 if(ownedSkins.includes(n)){skin=s;character.src=s.img;return;}
 if(total>=s.p){total-=s.p;ownedSkins.push(n);skin=s;character.src=s.img;update();}
}

function tab(id,b){
 swords.style.display="none";
 skins.style.display="none";
 document.getElementById(id).style.display="block";
 document.querySelectorAll(".tabs button").forEach(x=>x.classList.remove("active"));
 b.classList.add("active");
}

function update(){
 totalEl.textContent=total;
 build();
}

function save(){
 localStorage.setItem("save",JSON.stringify({
  total,os:ownedSwords,ok:ownedSkins,t:titles
 }));
 alert("Saved!");
}

function checkAchievements(){
 achDiv.innerHTML="";
 achievements.forEach(a=>{
  let unlocked=a.c();
  let div=document.createElement("div");
  div.className="ach "+(unlocked?"unlocked":"locked");
  div.textContent=a.n;
  div.onclick=()=>{titleEl.textContent=unlocked?a.n:"No Title"};
  achDiv.appendChild(div);
 });
}

/* CURSOR */
document.addEventListener("mousemove",e=>{
 cursor.style.left=e.clientX+"px";
 cursor.style.top=e.clientY+"px";
});

/* INIT */
build(); update(); checkAchievements();
</script>

</body>
</html>

